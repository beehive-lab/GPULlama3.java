-server
-XX:+UnlockExperimentalVMOptions
-XX:+EnableJVMCI
-Xms20g
-Xmx20g
--enable-preview

# -Dgraal.Dump=*:verbose -Dgraal.PrintGraph=Network -Dgraal.PrintBackendCFG=true

-Djava.library.path=/home/devoxx2025-demo/java-ai-demos/TornadoVM/bin/sdk/lib
-Djdk.module.showModuleResolution=false
--module-path .:/home/devoxx2025-demo/java-ai-demos/TornadoVM/bin/sdk/share/java/tornado
-Dtornado.load.api.implementation=uk.ac.manchester.tornado.runtime.tasks.TornadoTaskGraph
-Dtornado.load.runtime.implementation=uk.ac.manchester.tornado.runtime.TornadoCoreRuntime
-Dtornado.load.tornado.implementation=uk.ac.manchester.tornado.runtime.common.Tornado
-Dtornado.load.annotation.implementation=uk.ac.manchester.tornado.annotation.ASMClassVisitor
-Dtornado.load.annotation.parallel=uk.ac.manchester.tornado.api.annotations.Parallel
-Dtornado.tvm.maxbytecodesize=65536
-Duse.tornadovm=true
-Dtornado.threadInfo=false
-Dtornado.debug=false
-Dtornado.fullDebug=false
-Dtornado.printKernel=false
-Dtornado.print.bytecodes=false
-Dtornado.device.memory=20GB
-Dtornado.profiler=false
-Dtornado.log.profiler=false
-Dtornado.profiler.dump.dir=/home/mikepapadim/repos/gpu-llama3.java/prof.json
-Dtornado.enable.fastMathOptimizations=true
-Dtornado.enable.mathOptimizations=false
-Dtornado.enable.nativeFunctions=true
"-Dtornado.loop.interchange=true -Dtornado.dump.bytecodes.dir=/home/devoxx2025-demo/java-ai-demos/GPULlama3.java"
-Dtornado.eventpool.maxwaitevents=32000
"-Dtornado.opencl.compiler.flags=-cl-denorms-are-zero -cl-no-signed-zeros -cl-finite-math-only"
--upgrade-module-path /home/devoxx2025-demo/java-ai-demos/TornadoVM/bin/sdk/share/java/graalJars
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.cfg=tornado.runtime
--add-exports jdk.internal.vm.ci/jdk.vm.ci.common=jdk.internal.vm.compiler
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.hotspot.meta=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common.util=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.lir=tornado.runtime,tornado.drivers.common
--add-exports jdk.internal.vm.ci/jdk.vm.ci.meta=tornado.runtime,tornado.annotation,tornado.drivers.common,jdk.internal.vm.compiler
--add-exports jdk.internal.vm.ci/jdk.vm.ci.code=tornado.runtime,tornado.drivers.common,jdk.internal.vm.compiler
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.graph=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.graph.spi=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.lir.gen=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodeinfo=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes=tornado.runtime,tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.calc=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.spi=tornado.runtime,tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.api.runtime=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.code=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common=tornado.runtime,tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.target=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.debug=tornado.runtime,tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.hotspot=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.java=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.lir.asm=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.lir.phases=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.graphbuilderconf=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.options=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases=tornado.runtime,tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.tiers=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.util=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.printer=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.runtime=tornado.runtime
--add-exports jdk.internal.vm.ci/jdk.vm.ci.runtime=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.graph.iterators=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.bytecode=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.common=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common.spi=tornado.runtime,tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.api.replacements=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.replacements=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.common.inlining=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.phases=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common.type=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.extended=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.loop=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.common.inlining.info=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.common.inlining.policy=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.common.inlining.walker=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.loop.phases=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.debug=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.memory=tornado.runtime,tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.util=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.virtual=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.lir.constopt=tornado.runtime
--add-opens jdk.internal.vm.ci/jdk.vm.ci.hotspot=tornado.runtime
--add-exports jdk.internal.vm.ci/jdk.vm.ci.hotspot=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.gc=tornado.runtime,tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.memory.address=tornado.runtime,tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.replacements.nodes=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.word=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.util=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.lir.framemap=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common.alloc=tornado.runtime
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common.memory=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.graph=tornado.runtime,tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.graph.iterators=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.extended=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.loop=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.calc=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.options=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.debug=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.util=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.virtual=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.loop.phases=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common.util=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.tiers=tornado.drivers.common
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.common=tornado.drivers.common

--add-opens java.base/java.lang=tornado.drivers.opencl
--add-exports jdk.internal.vm.ci/jdk.vm.ci.common=tornado.drivers.opencl
--add-exports jdk.internal.vm.ci/jdk.vm.ci.amd64=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.hotspot.meta=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.replacements.classfile=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common.alloc=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common.util=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common.cfg=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.lir=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.lir.framemap=tornado.drivers.opencl
--add-exports jdk.internal.vm.ci/jdk.vm.ci.meta=tornado.drivers.opencl
--add-exports jdk.internal.vm.ci/jdk.vm.ci.code=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.graph=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.graph.spi=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.lir.gen=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodeinfo=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.calc=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.spi=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.code=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.debug=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.hotspot=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.java=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.lir.asm=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.lir.phases=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.graphbuilderconf=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.options=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.tiers=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.util=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.printer=tornado.drivers.opencl
--add-exports jdk.internal.vm.ci/jdk.vm.ci.runtime=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.graph.iterators=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.bytecode=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.common=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common.spi=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.api.replacements=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.replacements=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.common.inlining=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.phases=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common.type=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.extended=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.loop=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.loop.phases=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.debug=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.memory=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.util=tornado.drivers.opencl
--add-opens jdk.internal.vm.ci/jdk.vm.ci.hotspot=tornado.drivers.opencl
--add-exports jdk.internal.vm.ci/jdk.vm.ci.hotspot=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.asm=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.cfg=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.schedule=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.virtual.phases.ea=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.lir.ssa=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common.calc=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.gen=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.match=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.memory.address=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.nodes.type=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.graph=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.common.util=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.common.util=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.phases.graph=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.word=tornado.drivers.opencl
--add-exports jdk.internal.vm.compiler/org.graalvm.compiler.core.common.memory=tornado.drivers.opencl

--add-modules
ALL-SYSTEM,jdk.incubator.vector,tornado.runtime,tornado.annotation,tornado.drivers.common,tornado.drivers.opencl
